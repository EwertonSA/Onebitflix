"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.router = void 0;
const express_1 = __importDefault(require("express"));
const CategoryController_1 = require("./controllers/CategoryController");
const CourseController_1 = require("./controllers/CourseController");
const EpisodeController_1 = require("./controllers/EpisodeController");
const authController_1 = require("./controllers/authController");
const auth_1 = require("./midlewares/auth");
const favoriteController_1 = require("./controllers/favoriteController");
const LikesController_1 = require("./controllers/LikesController");
const UsersController_1 = require("./controllers/UsersController");
exports.router = express_1.default.Router();
exports.router.post('/auth/register', authController_1.authController.register);
exports.router.post('/auth/login', authController_1.authController.login);
exports.router.get('/categories', auth_1.ensureAuth, CategoryController_1.categoriesController.index);
exports.router.get('/categories/:id', auth_1.ensureAuth, CategoryController_1.categoriesController.show);
exports.router.get('/courses/featured', auth_1.ensureAuth, CourseController_1.courseController.featured);
exports.router.get('/courses/popular', auth_1.ensureAuth, CourseController_1.courseController.popular);
exports.router.get('/courses/newest', CourseController_1.courseController.newest);
exports.router.get('/courses/search', auth_1.ensureAuth, CourseController_1.courseController.search);
exports.router.get('/courses/:id', auth_1.ensureAuth, CourseController_1.courseController.show);
exports.router.get('/episodes/stream', auth_1.ensureAuthViaQuery, EpisodeController_1.episodesController.stream);
exports.router.get('/episodes/:id/watchTime', auth_1.ensureAuth, EpisodeController_1.episodesController.getWatchTime);
exports.router.post('/episodes/:id/watchTime', auth_1.ensureAuth, EpisodeController_1.episodesController.setWatchTime);
exports.router.get('/favorites', auth_1.ensureAuth, favoriteController_1.favoritesController.index);
exports.router.post('/favorites', auth_1.ensureAuth, favoriteController_1.favoritesController.save);
exports.router.delete('/favorites/:id', auth_1.ensureAuth, favoriteController_1.favoritesController.delete);
exports.router.post('/likes', auth_1.ensureAuth, LikesController_1.LikesController.save);
exports.router.delete('/likes/:id', auth_1.ensureAuth, LikesController_1.LikesController.delete);
exports.router.get('/users/current', auth_1.ensureAuth, UsersController_1.userController.show);
exports.router.put('/users/current', auth_1.ensureAuth, UsersController_1.userController.udpate);
exports.router.put('/users/current/password', auth_1.ensureAuth, UsersController_1.userController.updatePassword);
exports.router.get('/users/current/watching', auth_1.ensureAuth, UsersController_1.userController.watching);
